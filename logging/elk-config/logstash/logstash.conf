# This is the Logstash pipeline configuration.
# It defines where to get logs from and what to do with them.

# Input: Listen for logs coming from our Filebeat service on port 5044.
input {
  beats {
    port => 5044
  }
}

# Filter: (Optional) We could add filters here to parse JSON, add fields, etc.
# For now, we'll keep it simple.
filter {
  # Tries to parse the 'message' field as JSON if it's a JSON string.
  # This is useful for structured logs from Docker.
  json {
    source => "message"
  }
}

# Output: For now, just print the processed logs to the console (stdout).
# This allows us to see the centralized logs easily.
# Later, you could change this to output to Elasticsearch.
output {
  stdout {
    codec => rubydebug
  }
}
